<html layout:decorate="~{layout/layout.html}">
    <body>
        <section layout:fragment="content">
            <h1>join</h1>

            <form th:action="@{/member/join}"
                  method="post"
                  onsubmit="checkForm(this); return false;"
                  th:object="${memberForm}"
                  class="flex flex-col gap-2">
                <div class="flex flex-col">
                    <label for="username">아이디</label>
                    <input type="text"
                           th:field="*{username}"
                           placeholder="아아디"
                           class="input"/>
                </div>
                <div th:replace="~{error/error :: username}"></div>
                <div class="flex flex-col">
                    <label for="password">비밀번호</label>
                    <input type="password"
                           th:field="*{password}"
                           placeholder="비밀번호"
                           class="input"/>
                </div>
                <div th:replace="~{error/error :: password}"></div>
                <div class="flex flex-col">
                    <label for="passwordConfirm">비밀번호 확인</label>
                    <input type="password"
                           th:field="*{passwordConfirm}"
                           placeholder="비밀번호 확인"
                           class="input"/>
                </div>
                <div th:replace="~{error/error :: passwordConfirm}"></div>
                <div>
                    <button type="submit" class="btn">제출</button>
                </div>
            </form>

            <script>
                function checkForm(form)
                {
                    // 공백 처리
                    form.username.value = form.username.value.trim();
                    form.password.value = form.password.value.trim();
                    form.passwordConfirm.value = form.passwordConfirm.value.trim();

                    form.submit();
                }
            </script>
        </section>
    </body>
</html>